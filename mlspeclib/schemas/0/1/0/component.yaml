# TODO: Code gen from here https://github.com/kubeflow/pipelines/blob/master/sdk/python/kfp/components/_structures.py
mlspec_schema_version:
  # Identifies the version of this schema
  meta: 0.1.0

mlspec_base_type:
  # Identifies the base type of this schema
  meta: base

mlspec_schema_type:
  # Identifies the type of this schema
  meta: component

schema_version:
  # Identifies version of MLSpec to use
  type: semver
  required: True

schema_type:
  # Identifies version of MLSpec to use
  type: allowed_schema_types
  required: True

name:
  type: string
  required: True

description:
  type: string
  required: True

metadata:
  type: nested
  schema:
    annotations:
      type: dict
      required: False
      empty: True

snapshotDirectory:
  type: path
  required: True

inputs:
  type: list_interfaces
  required: True
  empty: True

outputs:
  type: list_interfaces
  required: True
  empty: True

command:
  type: string
  required: True

communicator:
  type: nested
  schema:
    type:
      type: string
      required: True
    process_count_per_node:
      type: int
      required: True

compute:
  type: nested
  schema:
    node_count:
      type: string
      required: True
      empty: True
    workerType:
      type: string
      required: True
      empty: True
    scalingpolicy:
      type: string
      required: True
      empty: True
    checkpointpolicy:
      type: string
      required: True
      empty: True
    placementpolicy:
      type: string
      required: True
      empty: True
    os:
      type: string
      required: True
      empty: True
    memory_gb:
      type: int
      required: True
      empty: True
